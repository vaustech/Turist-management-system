"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[34623],{784843:(e,l,t)=>{t.r(l),t.d(l,{default:()=>a});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};o.hash="35b139c2e951baaa6624b30e45f913ce";let a=o},736180:(e,l,t)=>{var o;t.r(l),t.d(l,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null}],type:"Pin",abstractKey:null};a.hash="cabaa35ed7d59dee006897bf3ef32e3d";let i=a},660691:(e,l,t)=>{t.d(l,{Z:()=>s});var o=t(1794),a=t(233846),i=t(51340);function s(){let e=(0,a.ZP)();return function(l,t){let a=new Date(l).getTime(),s=Date.now()-a,n=Math.floor(s/o.FS),r=Math.floor(s/o.UK),d=Math.floor(s/o.F4),c=Math.floor(s/o.VL),_=Math.floor(s/o.N9),u=Math.floor(s/o.N1),h=e.nbt(["{{ minutes }} minute ago", "{{ minutes }} minutes ago"], n, " - ", true),g=e.nbt(["{{ hours }} hour ago", "{{ hours }} hours ago"], r, " - ", true),m=e.nbt(["{{ days }} day ago", "{{ days }} days ago"], d, " - ", true),f=e.nbt(["{{ weeks }} week ago", "{{ weeks }} weeks ago"], c, " - ", true),y=e.nbt(["{{ months }} month ago", "{{ months }} months ago"], _, "useGetHumanizedTimeSince.monthsString", true),b=e.nbt(["{{ years }} year ago", "{{ years }} years ago"], u, " - ", true),p=e.nbt(["{{ minutes }}m", "{{ minutes }}m"], n, "minutes ago abbreviated", true),x=e.nbt(["{{ hours }}h", "{{ hours }}h"], r, "hours ago abbreviated", true),w=e.nbt(["{{ days }}d", "{{ days }}d"], d, "days ago abbreviated", true),v=e.nbt(["{{ weeks }}w", "{{ weeks }}w"], c, "weeks ago abbreviated", true),P=e.nbt(["{{ months }} mo", "{{ months }} mo"], _, "months ago abbreviated", true),z=e.nbt(["{{ years }}y", "{{ years }}y"], u, "years ago abbreviated", true);return u>0?(0,i.nk)(t?z:b,{years:u}).join(""):_>0?(0,i.nk)(t?P:y,{months:_}).join(""):c>0?(0,i.nk)(t?v:f,{weeks:c}).join(""):d>0?(0,i.nk)(t?w:m,{days:d}).join(""):r>0?(0,i.nk)(t?x:g,{hours:r}).join(""):n>0?(0,i.nk)(t?p:h,{minutes:n}).join(""):e.bt("Just now", "Just now", " - ", undefined, true)}}},833741:(e,l,t)=>{t.d(l,{Z:()=>k});var o,a=t(667294),i=t(545007);t(167912);var s=t(20256),n=t(219308),r=t(297934),d=t(78039),c=t(513277),_=t(704942),u=t(676620),h=t(112800),g=t(677316),m=t(339908),f=t(34632),y=t(538645),b=t(755090),p=t(412584),x=t(683829),w=t(945011),v=t(647137),P=t(654892),z=t(785893);let A=({children:e,pulsar:l,testId:t})=>l.show?(0,z.jsx)(s.xu,{"data-test-id":t,position:"relative",children:(0,z.jsxs)(s.iP,{onTap:l.onClick,tapStyle:"none",children:[(0,z.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,z.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,z.jsx)(s.o3,{})})]})}):(0,z.jsx)(s.xu,{"data-test-id":t,children:e}),j=(void 0!==o||(o=t(736180)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==o.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function k({auxData:e,disabled:l,disableLog:t,followEventType:o,id:k,inline:F,invertColors:I,isFollowed:S,isIdeaPin:C,isLegoEnabled:T,isSecondaryButton:Z,isUserFollowButton:U,isUserMe:E,onFollow:D,onUnfollow:G,pinKey:L,shouldUseLegoColors:H,showPulsar:M,size:R,textType:K="FollowFollowing",unfollowEventType:B,viewParameter:W,viewType:N,clientTrackingParams:O}){let J,q=(0,c.Z)(),V=(0,y.HG)(),{showToast:Q}=(0,m.dI)(),X=(0,g.Z)(),$=(0,n.Z)(),Y=(0,u.Z)(),{checkExperiment:ee}=(0,_.Z)(),el=(0,x.Z)(),et=(0,r.Z)(),eo=et&&et.isAuth,{unauthFollowUserId:ea,setUnauthFollowUserId:ei}=(0,P.A)(),es=(0,w.mN)()(k),en=(0,i.I0)(),[er,ed]=(0,a.useState)(S),ec=es&&{imageMediumUrl:es.image_medium_url,username:es.username},e_=(0,d.Z)(j,L),eu=e_?.linkDomain,eh=e_?.nativeCreator,eg=e_?.originPinner,em=e_?.pinner;J=eh||(eu?eu.officialUser:eg||em);let ef=ec??J;(0,b.Z)(()=>{!V&&eo&&ea&&k&&ea===k&&D(k)});let ey=el({fn:()=>{if(eo)er?(G(k),ed(!1),t||$({event_type:B,view_type:N,view_parameter:W,object_id_str:k,aux_data:e,clientTrackingParams:O})):(D(k),ed(!0),U&&Q(({hideToast:e})=>{let l=ef?.username?`/${ef.username}/`:"";return(0,z.jsx)(v.Z,{handleHide:e,href:l,imageUrl:ef?.imageMediumUrl||"",text:(0,z.jsx)(s.xv,{lineClamp:4,children:q.bt("Following! Their created Pins will show up in your home feed!", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:k})}),t||$({event_type:o,view_type:N,view_parameter:W,object_id_str:k,aux_data:e,clientTrackingParams:O}));else{if((0,h.NC)(er?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:er?"unfollow-button":"follow-button"}),V&&ee("dweb_upsell_manager_redux").anyEnabled){let e=ee("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0;en((0,f.b9)(!!C,e))}else Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:C?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:V&&ee("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&ee("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});V||ei(k??""),(0,h.NC)("clickthrough")}},modalHeader:(0,p.N4)({i18n:q,toFollow:!er})}),eb=!er&&!!M,ep=()=>{if(E)return q.bt("That's you!", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===K)return er?q.bt("Remove", "Remove", "unfollowButton.removeText", undefined, true):q.bt("Add", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===K?q.bt("Unfollow", "Unfollow", "unfollowButton.unfollowText", undefined, true):q.bt("Following", "Following", "Follow button label - followed state", undefined, true);return er?e:q.bt("Follow", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,z.jsx)(A,{pulsar:eb?{show:!0,onClick:ey}:{show:!1},testId:E||er?"board-unfollow-button":"board-follow-button",children:(0,z.jsx)(s.zx,{accessibilityLabel:ep(),color:H||"AddRemove"===K||!T&&Z||I?"gray":"red",disabled:E||l,fullWidth:F,onClick:eb?void 0:({event:l})=>{l.preventDefault(),l.stopPropagation(),t||$({event_type:101,component:13672,element:11951,object_id_str:k,view_type:N,view_parameter:W,aux_data:e,clientTrackingParams:O}),ey()},selected:er||!1,size:R,text:ep()})})}},899076:(e,l,t)=>{t.d(l,{Z:()=>a});var o=t(945011);function a(){let e=(0,o.dM)();return Object.keys(e).reduce((l,t)=>{let o=e[t];return l[o.username]=o,l},{})}},275269:(e,l,t)=>{t.d(l,{Z:()=>p});var o,a=t(667294);t(244311);var i=t(20256),s=t(78039),n=t(233846),r=t(928362),d=t(174646),c=t(538645),_=t(824014),u=t(29519),h=t(706915),g=t(785893);function m({backgroundColor:e="darkGray",iconColor:l="inverse",iconSize:t,privacy:o,size:a=20}){let s=(0,n.ZP)();return(0,g.jsx)(i.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:a,justifyContent:"center",rounding:"circle",width:a,children:(0,g.jsx)(i.JO,{accessibilityLabel:s.bt("Secret board icon", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:l,icon:"secret"===o?"lock":"security",size:t??a/2})})}var f=t(824573);let y=(void 0!==o||(o=t(784843)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==o.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),b="100%";function p(e){let l=(0,n.ZP)(),{canEdit:t,containerBackgroundColor:o="white",coverPhoto:p,coverPinKey:x,fullSize:w,hideSecretBoardIcon:v,images:P,isActive:z,isHomePageBoards:A,isProtected:j,isSecret:k,layout:F,onEditClick:I,renderAsImage:S,showSensitivityScreen:C}=e,T=(0,c.HG)(),{isRTL:Z,isAuthenticated:U}=(0,d.B)(),E=(0,s.Z)(y,x),D=(0,a.useRef)(null),G=P[0],L=!p&&P[0]?.name||l.bt("Cover image", "Cover image", "DrawerImageGroup", undefined, true),H=[,,].fill(0),M=new i.Ry(1),R="square"===F?u.M0:u.z9,K="square"===F?u.FP:u.FC,B=G?.url?(0,g.jsx)(i.Ee,{alt:L,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:G.url}):(0,g.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"}),W=C?{filter:"blur(20px)"}:{};return(0,g.jsxs)(i.zd,{height:w?"100%":void 0,rounding:4,width:"100%",children:[(0,g.jsxs)(i.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(i.sg,{span:8,children:(0,g.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:W},height:w?"100%":void 0,position:"relative",children:(0,g.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:b}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(i.xu,{ref:D,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:A?"#FFDFE9":o,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(j||k)&&!v&&(0,g.jsx)(i.xu,{left:!Z,margin:2,position:"absolute",right:Z,top:!0,zIndex:M,children:(0,g.jsx)(m,{backgroundColor:"default",iconColor:"default",privacy:k?"secret":"protected",size:T&&U?32:24})}),p?.url?(0,g.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(h.Z,{customCover:p.isCustom,height:K,imgPos:E?function(e){let{crop:l,size:t}=e||{};if(Array.isArray(l)&&Array.isArray(t))return{x:l[0]||0,y:l[1]||0,width:t[0]||0,height:t[1]||0}}(E):p.position||{width:0,height:0,x:0,y:0},imgUrl:E?.imageUrl??(p.url||""),renderAsImage:S,width:Math.floor(R/3*2)})}):B]})})})}),(0,g.jsx)(i.sg,{span:4,children:(0,g.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:W},height:"100%",children:[t&&(0,g.jsx)(i.xu,{bottom:!0,left:Z,margin:2,opacity:+!!z,position:"absolute",right:!Z,zIndex:M,children:(0,g.jsx)(i.iP,{onTap:({event:e})=>I?.(e),children:(0,g.jsx)(i.hU,{accessibilityLabel:l.bt("Edit", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})})}),H.map((e,l)=>{let t=p?P[l]:P[l+1];return(0,g.jsx)(i.xu,{height:w?"50%":void 0,position:"relative",children:(0,g.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:b}},overflow:"hidden",width:"100%",children:(0,g.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:A?"#FFDFE9":o,borderStyle:"solid",borderWidth:0===l?1:"0 1px 1px 1px",borderRadius:0===l?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:t?.url?(0,g.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(i.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:t.url})}):(0,g.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})},l)})]})}),C&&(0,g.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(i.X6,{align:"center",color:"light",size:"400",children:l.bt("This board may contain sensitive content", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]}),(0,g.jsx)(_.Z,{visibility:z?"visible":"none",children:(0,g.jsx)(f.Z,{additionalStyles:{backgroundColor:r.Dv.LEGO_WASH}})})]})}},683829:(e,l,t)=>{t.d(l,{Z:()=>n});var o=t(233846),a=t(538645),i=t(316866),s=t(412584);let n=()=>{let e=(0,o.ZP)(),l=(0,a.HG)(),{viewer:t,loginForMore:n,limitedLoginModalSubheader:r,limitedLoginModalNextLocation:d}=(0,i.m)();return"LIMITED_LOGIN"===t.type?({modalHeader:t,nextLocation:o})=>a=>{let i=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?i=a:a.event&&(i=a.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),n?.setVisible(!0),r?.setText(t||(l?(0,s.hr)(e):(0,s.Wh)(e))),o&&d?.setRoute(o)}:({fn:e})=>e}},647137:(e,l,t)=>{t.d(l,{Z:()=>c});var o=t(20256),a=t(231333),i=t(513277),s=t(113474),n=t(538645),r=t(785893);function d({ideaPinImages:e}){let l=e.map((e,l)=>(0,r.jsx)(o.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:l}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,r.jsx)(o.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},l));return(0,r.jsx)(o.kC,{justifyContent:"center",children:(0,r.jsx)(o.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:l})})}function c({handleHide:e,text:l,userId:t,href:c,imageUrl:_}){let u=(0,i.Z)(),h=(0,n.HG)(),g=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:t}}),m=Array.isArray(l)?l.join(" "):l;if(0===(g.data||[]).length)return(0,r.jsx)(a.Z,{duration:5e3,href:c,onHide:e,text:m,thumbnail:_?{image:(0,r.jsx)(o.Ee,{alt:u.bt("Image of who you followed", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}:void 0});let f=(g.data||[]).slice(0,3).map(e=>e.images?.[h?"236x":"170x"]),y=(0,r.jsx)(d,{ideaPinImages:f});return(0,r.jsx)(a.Z,{_dangerouslySetThumbnail:y,duration:5e3,href:c,onHide:e,text:m})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/34623.en_GB-a67a4f83674fe635.mjs.map