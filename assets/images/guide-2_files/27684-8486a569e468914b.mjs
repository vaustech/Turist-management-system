"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[27684],{599986:(e,a,l)=>{var n,t;l.r(a),l.d(a,{default:()=>i});let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:t},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};r.hash="7005ce437a6a6ff33741ab44aa02cf61";let i=r},693728:(e,a,l)=>{var n,t;l.r(a),l.d(a,{default:()=>i});let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:t},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};r.hash="40ae8061007ba5f53a4570e43e4ca864";let i=r},791701:(e,a,l)=>{var n,t,r,i;l.r(a),l.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"ban"},t={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:i=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,n],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:i},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};o.hash="c62e5df78917dd238b70f366f358d487";let s=o},926331:(e,a,l)=>{var n,t,r,i,o,s,d,u;l.r(a),l.d(a,{default:()=>m});let c={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,s,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};c.hash="2c3e1508650962adfff1171e950fa419";let m=c},79558:(e,a,l)=>{var n,t,r,i,o,s,d,u,c,m;l.r(a),l.d(a,{default:()=>p});let g=(n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},c={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},m=[i,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:o,storageKey:null},s,d,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},c],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:m,storageKey:null},s,d,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:m,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},c],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});g.hash="9aa22a7713214239538142ad2c957cc3";let p=g},825668:(e,a,l)=>{var n,t;l.r(a),l.d(a,{default:()=>i});let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_emails_Mutation",selections:t},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};r.hash="de392a939a95d05f7ee889fe77a9e52d";let i=r},286383:(e,a,l)=>{var n,t,r,i;l.r(a),l.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"boardId"},t={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},r={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:i=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,r],kind:"Operation",name:"collab_users_Mutation",selections:i},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};o.hash="850c5de9834cac0edfdd5652a78bffbf";let s=o},827684:(e,a,l)=>{l.d(a,{A8:()=>v,CQ:()=>E,Cf:()=>f,DK:()=>b,GJ:()=>T,RZ:()=>h,SD:()=>K,aN:()=>L,h6:()=>k,tV:()=>I,xx:()=>_,yC:()=>C,zC:()=>y});var n,t,r,i,o,s,d,u=l(545007),c=l(167912),m=l(578373),g=l(19963),p=l(397657);let b=()=>{let e=(void 0!==n||(n=l(286383)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==n.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[a]=(0,c.useMutation)(e),{logContextEvent:t}=(0,g.u)();return async(e,l,n)=>{let r={boardId:e,collaboratorIds:l,message:n||""};return await new Promise((l,n)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&n(r[0]),t({event_type:28,object_id_str:e}),l()},onError:e=>n(e)})})}},y=()=>{let e=(void 0!==t||(t=l(825668)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==t.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,g.u)();return async(e,l,t)=>{let r={boardId:e,emails:l,message:t||""};return await new Promise((l,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),n({event_type:28,object_id_str:e}),l()},onError:e=>t(e)})})}},k=()=>{let e=(void 0!==r||(r=l(693728)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==r.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,g.u)();return async(e,l)=>{let t={boardId:e,userId:l};return await new Promise((l,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),n({event_type:32,object_id_str:e}),l(a)},onError:e=>r(e)})})}};function f(e,a){return async l=>{await (0,p.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:a}})}}function _(e,a){return async l=>{await (0,p.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,a)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:a}}),h=()=>{let e=(void 0!==i||(i=l(599986)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==i.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,g.u)();return async e=>{let l={boardId:e};return await new Promise((t,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&r(l[0]),n({event_type:32,object_id_str:e}),t(a)},onError:e=>r(e)})})}},K=(e,a,l)=>async n=>{n(v(e,a)),(await m.Z.create("BoardInviteResource",{board_id:e,invited_user_id:a.id}).callUpdate()).resource_response.error||l({event_type:32,object_id_str:e})};function F(e,a){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:a}}}let I=()=>{let e=(void 0!==o||(o=l(79558)).hash&&"9aa22a7713214239538142ad2c957cc3"!==o.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[a]=(0,c.useMutation)(e),n=(0,u.I0)();return async e=>{let l={boardId:e};return await new Promise((t,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&(n(F(e,!1)),r(l[0])),n(F(e,!0)),t(a)},onError:a=>{n(F(e,!1)),r(a)}})})}};function T(e,a){return l=>{(0,p.Z)({url:`/v3/boards/${e}/collaborators/request/${a}/`,method:"DELETE",data:{board:e,user:a}}).catch(()=>{l(F(e,!0))}),l(F(e,!1))}}let E=()=>{let e=(void 0!==s||(s=l(791701)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,g.u)();return async(e,l,t)=>{let r={boardId:e,userId:l,ban:t||!1};return await new Promise((l,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),n({event_type:29,object_id_str:e}),l(a)},onError:e=>t(e)})})}},L=()=>{let e=(void 0!==d||(d=l(926331)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,g.u)();return async(e,l)=>{let t={board:e,collaboratorIds:[l]};return await new Promise((l,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),n({event_type:29,object_id_str:e}),l(a)},onError:e=>r(e)})})}},C=()=>{let e=E(),a=L();return(l,n,t)=>async()=>{let{invited_user:n,status:r,board:{id:i}}=l;n&&("accepted"===r?await a(i,n.id):await e(i,n.id,t))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27684-8486a569e468914b.mjs.map