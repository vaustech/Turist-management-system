"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[88946],{237666:(e,t,r)=>{var n=r(667294),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useSyncExternalStore,a=n.useRef,i=n.useEffect,u=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,c){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var p=s(e,(d=u(function(){function e(e){if(!i){if(i=!0,s=e,e=n(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var r=n(e);return void 0!==c&&c(t,r)?(s=e,t):(s=e,a=r)}var s,a,i=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,c]))[0],d[1]);return i(function(){f.hasValue=!0,f.value=p},[p]),l(p),p}},331103:(e,t,r)=>{e.exports=r(237666)},623258:(e,t,r)=>{r.d(t,{$A:()=>m,N0:()=>v,N3:()=>b,VK:()=>p,_J:()=>h,mW:()=>f});var n=r(667294),o=r(316886),s=r(992114),a=r(785893);let i={},u={},l=!1,c=0,d=(0,n.createContext)({setMetric:()=>void 0,getMetricForComponent:()=>void 0,getMetricsForPath:()=>void 0,setRmaData:()=>void 0});function f({children:e}){let t=(0,n.useCallback)((e,t,r)=>{i[e]||(i[e]={}),i[e][t]=r},[]),r=(0,n.useCallback)((e,t)=>i[e]?.[t],[]),s=(0,n.useCallback)(e=>i[e],[]),f=(0,n.useCallback)(({id:e,path:t,fragmentName:r,executionTime:n,newData:s})=>{if(l)return;let a=`${r}.${e}`;u[t]||(u[t]={}),u[t][a]||(u[t][a]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let i=u[t][a];(0,o.ZP)(s,i.previousData)?(i.wastedTime+=n,c+=n):i.resultUpdatedCount+=1,i.totalRenderTime+=n,i.renderCount+=1,i.previousData=s},[]),p=(0,n.useMemo)(()=>({setMetric:t,getMetricForComponent:r,getMetricsForPath:s,setRmaData:f}),[t,r,s,f]);return(0,a.jsx)(d,{value:p,children:e})}function p(){return(0,n.use)(d)}function m(e){return i[e]}function b(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function h(e){let t=u[e],r={};l=!0,t&&Object.keys(t).length&&b(e)&&(Object.entries(t).forEach(([e,t])=>{let[n]=e.split(".");n&&!r[n]&&(r[n]=!0,(0,s.QX)(`render_stats.rma.${n}.renderCount`,t.renderCount,{sampleRate:1}),(0,s.QX)(`render_stats.rma.${n}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,s.LY)(`render_stats.rma.${n}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,s.LY)(`render_stats.rma.${n}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,s.LY)("render_stats.rma.totalWastedTime",c,{sampleRate:1,tags:{path:e}}))}function v(){i={},u={},l=!1,c=0}},36735:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e){return function e(t,r){let n;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let o=r.find(e=>e.value===t);if(o)return o.result;let s=Object.prototype.toString.call(t);switch(s){case"[object Array]":n=Array(t.length);break;case"[object Set]":n=new Set;break;case"[object Object]":case"[object Arguments]":n={};break;case"[object Map]":n=new Map;break;default:return t}let a=[...r,{value:t,result:n}];switch(s){case"[object Array]":t.forEach((t,r)=>{n[r]=e(t,a)});break;case"[object Set]":t.forEach(t=>{n.add(e(t,a))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,r])=>{n[t]=e(r,a)});break;case"[object Map]":t.forEach((t,r)=>{n.set(r,e(t,a))})}return n}(e,[])}},316886:(e,t,r)=>{function n(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!s(e[n],t[n],r+1))return!1;return!0}function o(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!(n in t)||!s(e[n],t[n],r+1))return!1;return!0}function s(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let s=Object.prototype.toString.call(e);if(s!==Object.prototype.toString.call(t))return!1;switch(s){case"[object Array]":return n(e,t,r);case"[object Set]":return n(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return o(e,t,r);case"[object Map]":return o(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function a(e,t){return s(e,t,0)}r.d(t,{Z1:()=>o,ZP:()=>a,qP:()=>n})},756064:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(667294),o=r(295666),s=r(992114);function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class i extends n.Component{constructor(...e){super(...e),a(this,"state",{error:null,info:null}),a(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,r=this.props.type||"secondary";(0,o.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:r,message:e.message,name:e.name,stack:e.stack}),(0,s.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,s.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:r}=this.state;return t&&r?e?e({error:t,info:r,resetError:this.resetError}):null:this.props.children}}},221097:(e,t,r)=>{function n(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});let o=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},s=e=>{if(e.isHidden){let{reason:t}=e;o.windowInFocus=!1,o.onPauseListeners.forEach(e=>e(t))}else o.windowInFocus=!0,o.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>s({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>s({isHidden:!1})),window.addEventListener("blur",()=>s({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>s({isHidden:!1})),window.addEventListener("pagehide",()=>s({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>s(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>s(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=o},762422:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(300509),o=r(667294),s=r(17433),a=r(116657),i=r(647466);function u({children:e,isAtEndOfFeed:t,pinData:r,itemCount:u,includeBackgroundImages:l=!1,includeVideos:c=!1,includeSections:d=!1,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:p,stopwatchContext:m}){let{isAuthenticated:b}=(0,i.bC)();b||(d=!0),(0,n.Z)({pinData:r,isAtEndOfFeed:t,includeBackgroundImages:l,includeVideos:c,includeSections:d,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:p,stopwatchContext:m});let h=(0,o.useRef)(null),v=(0,a.P9)();return(0,o.useEffect)(()=>{u!==h.current&&(h.current=u,v&&(0,s.ZP)(s.at))},[v,u]),e}},733668:(e,t,r)=>{r.d(t,{F_:()=>a,MA:()=>i,ZP:()=>o,y8:()=>s});var n=r(218291);class o{constructor(){var e,t,r;t={},(e="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="pending","string"))?r:r+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}add(e,t,r){r&&(this.pending[e]={...this.pending[e]??{},[t]:r},r.finally?.(()=>this.remove(e,t)))}remove(e,t){this.pending[e]?.[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}get(e,t){return this.pending[e]?.[t]??null}}let s=new o,{Provider:a,getMaybe:i}=(0,n.Z)("PendingFetches")},751800:(e,t,r)=>{r.d(t,{UZ:()=>p,Z8:()=>m,my:()=>b,vL:()=>v,w1:()=>h});var n=r(667294),o=r(545007),s=r(578373),a=r(218291),i=r(801393),u=r(785893);function l(e,t,r){let n=[...t[e][r.payload.name]??[],r.payload.handler],o={...t};return o[e]={...t[e],[r.payload.name]:n},o}function c(e,t,r){if(!t[e][r.payload.name])return t;let n=t[e][r.payload.name].filter(e=>e!==r.payload.handler),o={...t};return o[e]={...t[e],[r.payload.name]:n},o}let{Provider:d,get:f}=(0,a.Z)("ResourceContext");function p({children:e,resourceCreator:t}){let[{listeners:r,moreListeners:o},a]=(0,n.useReducer)((e,t)=>{switch(t.type){case"addListener":return l("listeners",e,t);case"addMoreListener":return l("moreListeners",e,t);case"removeListener":return c("listeners",e,t);case"removeMoreListener":return c("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});s.Z.fetchCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:o,refresh:s,resourceSchema:a})=>{r[e]&&r[e].forEach(r=>r({isRefresh:s,normalizedResponse:o,options:t,schema:a,resource:e,response:n}))},s.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:r,normalizedResponse:n,refresh:s,resourceSchema:a})=>{o[e]&&o[e].forEach(o=>o({isRefresh:s,normalizedResponse:n,options:t,schema:a,resource:e,response:r}))};let i=(0,n.useMemo)(()=>({listenerDispatch:a,resourceCreator:t}),[t]);return(0,u.jsx)(d,{value:i,children:e})}function m(e,t){let{listenerDispatch:r}=f();(0,n.useEffect)(()=>(r({type:"addListener",payload:{name:e,handler:t}}),()=>{r({type:"removeListener",payload:{name:e,handler:t}})}),[r,e,t])}function b(e,t){let{listenerDispatch:r}=f();(0,n.useEffect)(()=>(r({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{r({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function h(){let e=(0,o.I0)();return(0,n.useCallback)((t,r)=>e((0,i.jB)(t,r)),[e])}function v(){return f().resourceCreator}},987775:(e,t,r)=>{r.d(t,{U:()=>d,b:()=>f});var n=r(578373),o=r(36735),s=r(43535),a=r(741594),i=r(801393),u=r(471052),l=r(844619);function c({addSuspenseResourceSSRData:e,fetchOptions:t,resource:r,resourceCreator:d,retry:f}){return async(m,b)=>{let{bookmark:h,headers:v,options:y,refresh:g,schema:k}=t,j=(0,s.Z)(y);if(b().resources?.[r]?.[j]?.fetching&&!f)return Promise.resolve();let w=f?f.bookmark:h,C=(0,o.Z)(y),E=w?{...C,bookmarks:[w]}:C;m((0,i.LQ)(r,y,!0));try{let o,s,b=d??n.Z.create,j=await b(r,E).callGet(void 0,v);e&&p(j)&&e(r,E,j),p(j)||(o=j.bookmarks?.[0]);let{data:w}=j.resource_response,{normalizedResponse:C,resourceSchema:L}=(0,l.f)({data:w,opts:{bookmark:h,options:y,schema:k},resource:r});if(p(j)){o=j.resource_response.bookmark??"";let e=(0,u.Z)(j);C=e.normalizedResponse,L=e.schema,s=e.response}else s=j;if(Array.isArray(w)&&0===w.length&&o&&o!==a.qx){let e=f?f.count:0;if(!(e>=a.s9))return m(c({resource:r,fetchOptions:t,retry:{count:e+1,bookmark:o},resourceCreator:d}))}s&&(h?(m((0,i.Dm)(r,y,s,C,L)),n.Z.fetchMoreCompleteCallback&&n.Z.fetchMoreCompleteCallback({resource:r,options:y,response:s,normalizedResponse:C,refresh:g,resourceSchema:L})):(m((0,i.Sr)(r,y,s,C,g,L)),n.Z.fetchCompleteCallback&&n.Z.fetchCompleteCallback({resource:r,options:y,response:s,normalizedResponse:C,refresh:g,resourceSchema:L})))}catch(t){if(e){let n=t.http_status??500;e(r,y,{resource:{name:r,options:y},resource_response:{data:null,error:t,http_status:n,status:"failure"}})}m((0,i.Tl)(r,y,t))}}}let d=(e,{bookmark:t,headers:r,options:n,schema:o},s,a)=>c({resource:e,fetchOptions:{bookmark:t,headers:r,options:n,refresh:!1,schema:o},resourceCreator:s,addSuspenseResourceSSRData:a}),f=(e,{headers:t,options:r,schema:n},o)=>c({resource:e,fetchOptions:{headers:t,options:r,refresh:!0,schema:n},resourceCreator:o});function p(e){return"resource"in e}},801393:(e,t,r)=>{r.d(t,{Dm:()=>l,LQ:()=>a,Sr:()=>u,Tl:()=>i,XM:()=>s,jB:()=>c});var n=r(874322),o=r(413719);function s(e,t,r,o){return{type:n.AF,payload:{resource:e,options:t,response:r,normalizedResponse:o}}}function a(e,t,r){return{type:n.KK,payload:{resource:e,options:t,isFetching:r}}}let i=(e,t,r)=>({type:n.cR,payload:{resource:e,options:t,error:r}});function u(e,t,r,s,a,i){return{type:n.zP,payload:{isRefresh:a,normalizedResponse:s,options:t,resource:e,response:r,schema:i},meta:{[o.s]:!0}}}function l(e,t,r,o,s){return{type:n.aW,payload:{resource:e,options:t,response:r,normalizedResponse:o,schema:s}}}function c(e,t){return{type:n.se,payload:{resource:e,optionsOrOptionsKey:t}}}},471052:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(782677),o=r(700029),s=r(844619);function a(e){let{resource:t,resource_response:r}=e,{name:a,options:i}=t,u=(0,o.Z)(r),{data:l,error:c}=r,d=(0,s.J)(a,{options:i});return{error:c,isRefresh:!1,normalizedResponse:d&&l?(0,n.Fv)(l,d):null,options:i,resource:a,response:{auxData:u,bookmarks:r.bookmark?[r.bookmark]:void 0,resource_response:{data:l,error:c}},schema:d}}},292643:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(667294),o=r(545007),s=r(616550),a=r(43535),i=r(174646),u=r(987775),l=r(741594),c=r(733668),d=r(751800);function f(){}function p(e,t,r){let{enabledRouteRefresh:p,headers:m,name:b,noCache:h,options:v,schema:y}=e;!function(){f()}(),function(){f()}();let g=(0,c.MA)(),k=(0,d.vL)(),j=(0,o.I0)(),w=(0,a.Z)(v),C=(0,n.useRef)(void 0),E=(0,s.k6)(),L=E&&"POP"!==E.action,R=(0,n.useRef)(void 0),Z=e=>e[b]?.[w],P=(0,o.v9)(({resources:e})=>Z(e)?.data),M=(0,o.v9)(({resources:e})=>Z(e)?.error),S=!!M||void 0!==P,O=(0,o.v9)(({resources:e})=>!!Z(e)?.fetching),x=(0,o.v9)(({resources:e})=>Z(e)?.nextBookmark),T=S&&!O&&x===l.qx,A=!!(S&&p&&L&&!t),[_,H]=(0,n.useState)(A),D=_;(0,o.wU)(P,R.current)||(_&&(R.current||!A)&&(D=!1,H(!1)),R.current=P);let F=(0,n.useCallback)(e=>{let t=j((0,u.U)(b,{options:v,schema:y,bookmark:e,headers:m},k,void 0));e||g?.add(b,w,t)},[j,b,w,y,m]),U=(0,n.useCallback)(()=>{let e=j((0,u.b)(b,{options:v,schema:y,headers:m},k));g?.add(b,w,e)},[j,b,w,y,m]),B=(0,n.useCallback)(()=>{t||(U(),H(!0))},[t,U]),$=(0,n.useCallback)(()=>{!x||T||O||t||F(x)},[t,F,T,O,x]),{isBot:I}=(0,i.B)(),J=(0,n.useCallback)(()=>{if(!(O||g?.get(b,w))&&!t&&C.current!==w){let e=void 0===C.current;C.current=w,!S||r&&e&&M&&(({httpStatus:e})=>!e||e>=500)(M)?F():(!I&&h||A)&&U()}},[r,F,U,t,M,I,O,S,A,b,h,w,g]),N=(0,n.useMemo)(()=>({name:b,optionsKey:w}),[b,w]);return(0,n.useMemo)(()=>({fetchResource:J,ref:N,refresh:B,fetchMore:$,isFetching:O,isLoaded:S,isRefreshing:D}),[$,J,O,S,N,D,B])}(0,r(276162).kr)()},113474:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(667294),o=r(545007),s=r(43535),a=r(741594),i=r(292643);function u(e){let{enabledRouteRefresh:t,headers:r,name:u,noCache:l,options:c,schema:d}=e??{name:a.fY,options:null},f=(0,s.Z)(c),p=e=>e[u]?.[f],m=(0,o.v9)(({resources:e})=>p(e)?.nextBookmark),b=(0,o.v9)(({resources:e})=>p(e)?.data),h=(0,o.v9)(({resources:e})=>p(e)?.auxData),v=(0,o.v9)(({resources:e})=>p(e)?.error),{fetchResource:y,fetchMore:g,isFetching:k,isLoaded:j,isRefreshing:w,refresh:C}=(0,i.Z)({enabledRouteRefresh:t,headers:r,name:u,noCache:l,options:c,schema:d},!e,!0),E=j&&!k&&m===a.qx;return(0,n.useEffect)(()=>{y()}),(0,n.useMemo)(()=>({auxData:h,data:b,error:v,fetchMore:g,isAtEnd:E,isFetching:k,isLoaded:j,isRefreshing:w,nextBookmark:m,refresh:C}),[h,b,v,g,E,k,j,w,m,C])}},844619:(e,t,r)=>{r.d(t,{J:()=>s,f:()=>a});var n=r(782677),o=r(890452);let s=(e,{bookmark:t,options:r,schema:n})=>{let s=n||o.Z[e];return"function"==typeof s?s({resource:e,options:r,bookmark:t}):s};function a({data:e,opts:{bookmark:t,options:r,schema:o},resource:a}){let i=s(a,{bookmark:t,options:r,schema:o});return{normalizedResponse:i&&e?(0,n.Fv)(e,i):null,resourceSchema:i}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88946-db3a2bbcf43c5dc6.mjs.map