"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[86042],{640935:(e,t,i)=>{i.d(t,{F6:()=>f,Hs:()=>v,N$:()=>h,OW:()=>u,Ov:()=>p,Yc:()=>g,k7:()=>d,t4:()=>m,vs:()=>b});var n=i(667294),r=i(547504),s=i(174646),o=i(943369),a=i(112800),l=i(538645);let c="dark",d="rgba(17, 17, 17, 1)",u="rgba(17, 17, 17, 0)",h="rgb(43, 43, 43)",p="#767676",m="rgba(0,0,0, 0.8)",g=()=>(0,o.M0)().getItem(r.wg)===c;function b(){let e=(0,l.ml)(),{theme:t,isAuthenticated:i,referrerFromCookie:r}=(0,s.B)(),o=e&&t===c,[a,d]=(0,n.useState)(o);return(0,n.useEffect)(()=>{let e=o||i&&g();e&&(document.body.style.backgroundColor="#111111"),d(e)},[d,e,o,i,r]),a}let v=()=>{(0,o.M0)().setItem(r.wg,c),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},f=()=>{(0,o.M0)().removeItem(r.wg),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},488864:(e,t,i)=>{i.d(t,{U:()=>a,Z:()=>l});var n=i(261517),r=i(302057);function s(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let o={start:["active","paused","end"],active:["active","end","paused"],paused:["resumed","paused","end"],resumed:["active","end","paused"],end:[],unknown:["start"]},a=(e,t)=>`${e}->${t}`;class l{constructor(e,t,i,o,l,c=null,d=[],u=null){s(this,"inView",!1),s(this,"state","unknown"),s(this,"lastInitiator",null),s(this,"endReason",null),s(this,"intersectionTrigger",([e])=>{let t=this.inView;(0,n.q4)(()=>{e?.isIntersecting?this.inView=!0:this.inView=!1,this.addTimeStamp("IntersectionObserver",this.inView,0===this.timeline.length?"start":"active"),r.ck.log(`[Experience Sessions] - ${this.inView?"ðŸ‘ï¸ In View":"âŒ Out of View"}`)},"IntersectionObserver",void 0,this.id,()=>{this.inView=t})()}),s(this,"handleTransitionEdgeCases",(e,t,i,n)=>{let s=a(e,t);return"paused->active"===s&&"IntersectionObserver"===i&&(this.addTimeStamp("IntersectionObserver",n,"paused",0),r.ck.warn(`[Experience Sessions] - âš ï¸ ${s} transition detected with initiator ${i}. Switching to 'paused' state instead.`),!0)}),this.id=e,this.experienceId=t,this.placementId=i,this.location=o,this.endOnSurfaceChange=l,this.observer=c,this.timeline=d,this.elementNode=u,u&&this.initiateObserver(u)}restart(){(0,n.q4)(()=>{this.timeline=[],r.ck.log("[Experience Sessions] - Restarting timeline for experience ",this.id)},"restart",void 0,this.id)}disconnect(){(0,n.q4)(()=>{if(!this.observer)throw new n.ar({placedExperienceId:this.id,customMessage:"disconnect() - Attempted to disconnect observer, but it has not been initiated yet."});this.observer.disconnect(),this.observer=null},"ExperienceInSession.disconnect",void 0,this.id)()}initiateObserver(e){if(e&&!this.observer)this.observer=new IntersectionObserver(this.intersectionTrigger,{root:null,rootMargin:"0px",threshold:.1}),this.elementNode=e,this.observer.observe(e);else{if(e?.isEqualNode(this.elementNode)){this.observer?.observe(e),this.elementNode=e,r.ck.log(`[Experience Sessions] - Resuming experience ${this.id}.`,e);return}r.ck.warn("[Experience Sessions] - Attempted to initiate observer with a null node or an existing observer. Node:",e)}}hasInitiated(){return null!==this.observer&&null!==this.elementNode}addTimeStamp(e,t,i="unknown",s){if(!this.hasInitiated())throw new n.EO({placedExperienceId:this.id});let a=this.getLastTimeStamp()?.state||"unknown";if(!o[a].includes(i)){if(this.handleTransitionEdgeCases(a,i,e,t))return!0;throw new n.iL({placedExperienceId:this.id,currentState:a,newState:i})}return this.timeline.push({time:s||(0,r.dg)(),initiator:e,inView:t,state:i}),this.state=i,this.inView=t,this.lastInitiator=e,"end"===i&&"blur"!==e&&"focus"!==e&&"IntersectionObserver"!==e&&"restart"!==e&&(this.endReason=e),!0}setEndReason(e){this.endReason=e}isInView(){return this.inView}getSessionState(){return this.timeline?.[this.timeline.length-1]?.state??"unknown"}getLastTimeStamp(){return this.timeline.length>0?this.timeline[this.timeline.length-1]:void 0}getTimeStampBeforePause(){let e=this.timeline[0];for(let t=1;t<this.timeline.length;t+=1){let i=this.timeline[t];if(i?.state==="paused")return e;e=i}}getStateToResumeTo(){let e=[...this.timeline].reverse().find(e=>"paused"===e.state&&"IntersectionObserver"===e.initiator);return e?e.inView:this.getTimeStampBeforePause()?.inView??!1}getState(){return{inView:this.inView,state:this.state,lastInitiator:this.lastInitiator,endReason:this.endReason}}getTimelineDeepCopy(){return this.timeline.map(e=>({...e}))}getId(){return this.id}getExperienceId(){return this.experienceId}getPlacementId(){return this.placementId}getLocation(){return this.location}getEndOnSurfaceChange(){return this.endOnSurfaceChange}getElementNode(){return this.elementNode}getObserver(){return this.observer}getTimeline(){return this.timeline}getLength(){return this.timeline.length}}},21062:(e,t,i)=>{i.d(t,{$I:()=>s,K2:()=>r,eF:()=>n});let n=[{placementId:12,endOnSurfaceChange:!0},{placementId:11,endOnSurfaceChange:!1}],r=[{placementId:11,endOnSurfaceChange:!1},{placementId:40001,endOnSurfaceChange:!0},{placementId:29,endOnSurfaceChange:!1}],s=[506124,506436,504943,505226,505111,505801,502535,500331,506046]},261517:(e,t,i)=>{i.d(t,{AS:()=>h,D6:()=>u,EO:()=>c,Gw:()=>g,PI:()=>b,VV:()=>v,ar:()=>l,iL:()=>d,jQ:()=>m,q4:()=>x,z0:()=>p,zD:()=>f});var n=i(732282),r=i(488864),s=i(302057);class o{constructor({name:e,placedExperienceId:t,message:i}){this.name=e,this.placedExperienceId=t,this.message=i}log(){s.ck.warn(`[ExperienceSessions] - Warning: ${this.name} for experience ${this.placedExperienceId} - ${this.message}`,{placedExperienceId:this.placedExperienceId})}}class a extends Error{constructor({name:e,placedExperienceId:t,customMessage:i}){super(i),this.name=e,this.placedExperienceId=t,Object.setPrototypeOf(this,a.prototype)}}class l extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Error occurred while creating an IntersectionObserver for experience with id ${e}.`,name:"IntersectionObserver",placedExperienceId:e})}}class c extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to create a timestamp without an observer for experience with id ${e}.`,name:"TimeStampNoObserver",placedExperienceId:e})}}class d extends a{constructor({placedExperienceId:e,customMessage:t,currentState:i,newState:n}){super({customMessage:t??`Invalid time stamp state transition: ${(0,r.U)(i,n)}.
Dropping time stamp.`,name:"InvalidStateTransition",placedExperienceId:e})}}class u extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to remove an experience with id ${e} from an empty session map.`,name:"RemoveOnEmptySessionMap",placedExperienceId:e})}}class h extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to remove a non-existent experience with id ${e}.`,name:"RemoveOnMissingExperience",placedExperienceId:e})}}class p extends a{constructor(e,t,i,n){let r=[{value:e,name:"Placed Experience ID"},{value:t,name:"Experience ID"},{value:i,name:"Placement ID"}].filter(e=>!e.value).map(e=>e.name);super({customMessage:r.length>0?`${r.join(" and ")} ${r.length>1?"are":"is"} required for this operation.`:n??"",name:"InvalidIdError",placedExperienceId:e||""})}}class m extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`No start state found in the timeline for experience with id ${e}.`,name:"NoStart",placedExperienceId:e})}}class g extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Total duration calculated is negative for experience with id ${e}.`,name:"NegativeTotal",placedExperienceId:e})}}class b extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Timeline ended without an end state for experience with id ${e}.`,name:"NoEnd",placedExperienceId:e})}}class v extends a{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Total duration calculated is not a valid number for experience with id ${e}.`,name:"InvalidTotal",placedExperienceId:e})}}class f extends o{constructor({placedExperienceId:e,customMessage:t}){super({message:t??`Attempted to resume without a pause timestamp for experience with id ${e}. Was the session started before app focus?`,name:"TimeStampNoPause",placedExperienceId:e})}}let w=[u,h,p,m,g,b,v];function x(e,t,i,r,o){return(...a)=>{try{return e(...a)}catch(e){if(e instanceof Error){let i=(w.some(t=>e instanceof t)?e.placedExperienceId:r)||"0:unknown";s.ck.error(`[Experience Session] - ${t} - ${e.name}:${e.message}`),(0,n.sW)(t,e.name,i,Number(i.split(":")[0]))}else{let i=String(e);s.ck.error(`[Experience Session] - ${t} - Error: ${i}`),(0,n.AC)(e,t)}return o&&o(),i}}}},411669:(e,t,i)=>{i.d(t,{Z:()=>s,r:()=>n});let{Provider:n,get:r}=(0,i(218291).Z)("ExperienceSessionContext"),s=r},355794:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(21062),r=i(967312);function s(e,t={}){let{rollout_experiment:i}=t,{checkExperiment:o}=(0,r.r)(),a=!1,l=!1;if(i){if(1===i){let t=n.eF.find(t=>t.placementId===e);a=o("web_experience_framework_sessions_rollout_1").anyEnabled&&!!t,l=t?.endOnSurfaceChange??!1}return{enableExperienceSession:a,endOnSurfaceChange:l}}let c=o("web_experience_framework_view_duration_trial_run").anyEnabled,d=n.K2.find(t=>t.placementId===e);return{enableExperienceSession:a=c&&!!d,endOnSurfaceChange:l=d?.endOnSurfaceChange??!1}}},414919:(e,t,i)=>{i.d(t,{GF:()=>p,KF:()=>b,vG:()=>f,NQ:()=>g.Z,jQ:()=>v.Z});var n=i(667294),r=i(616550),s=i(778622),o=i(261517);let{Provider:a,get:l,useMaybeHook:c}=(0,i(218291).Z)("ExperienceSessionManagerContext");var d=i(302057),u=i(755090),h=i(785893);function p({children:e}){let t=(0,n.useRef)({}),i=(0,r.TH)(),l=()=>0===Object.values(t.current).length||0===Object.keys(t.current).length,c=e=>{if(e)return t.current[e]},p=(0,n.useCallback)(e=>{let i=e.getId();return t.current[i]=e,d.ck.log(`[Experience Sessions] - Added experience with id ${i} to experiences in session map.
View ExperienceInSession object added: `,t.current[i]),t.current[i]},[]),m=(0,n.useCallback)((e,i="unknown")=>{(0,o.q4)(()=>{if(0===Object.values(t.current).length)throw new o.D6({placedExperienceId:e});if(!t.current[e])throw new o.AS({placedExperienceId:e});t.current[e].addTimeStamp(i,!1,"end"),t.current[e].disconnect(),d.ck.log(`[Experience Session] - Ended experience with id ${e} to experiences in session map with reason '${i}'.
View time stamps for experience: `,t.current[e].getTimeline(),`
Full experience in session object: `,t.current[e]),(0,s.Th)({placedExperienceId:e,experienceId:t.current[e].getExperienceId(),placementId:t.current[e].getPlacementId(),timeline:t.current[e].getTimelineDeepCopy(),endReason:i}),delete t.current[e]},"removeExperience",void 0,e)()},[]),g=e=>{l()||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{m(e.id,"page-unload")},"endOnPageLeave",void 0,e.id)()})},b=(0,n.useCallback)(()=>{l()||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{e.getLocation()!==i.pathname&&e.getEndOnSurfaceChange()&&m(e.getId(),"surface-exit")},"endOnSurfaceChange",void 0,e.getId())()})},[i,m]),v=()=>{!l()&&(document.activeElement&&"IFRAME"===document.activeElement.tagName&&(d.ck.warn("[Experience Session] - Ignoring pauseOnPageBlur event in iframe"),1)||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{e.addTimeStamp("blur",!1,"paused"),d.ck.log(`[Experience Session] - Pausing experience ${e.getId()} session.`)},"pauseOnPageBlur",void 0,e.getId())()}))},f=()=>{l()||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{if(e.getTimeline().length<2)new o.zD({placedExperienceId:e.id}).log(),e.restart();else{let t=e.getStateToResumeTo();e.addTimeStamp("focus",t,"resumed"),d.ck.log(`[Experience Session] - Resuming experience ${e.getId()} session from paused state with inView status: ${t}.`)}},"resumeOnPageFocus",void 0,e.getId())()})};(0,n.useEffect)(()=>{b()},[i,b]),(0,u.Z)(()=>(d.ck.log("[Experience Sessions] - âœ¨ Debug enabled!"),window.addEventListener("beforeunload",g),window.addEventListener("blur",v),window.addEventListener("focus",f),()=>{window.removeEventListener("beforeunload",g),window.removeEventListener("blur",v),window.removeEventListener("focus",f)}));let w=(0,n.useMemo)(()=>({experiencesInSession:t.current,getExperience:c,addExperience:p,removeExperience:m}),[t,p,m]);return(0,h.jsx)(a,{value:w,children:e})}var m=i(488864),g=i(411669);function b({children:e,id:t,experienceId:i,placementId:s,enable:a=!0,endOnSurfaceChange:l=!0}){let d=c(),u=!a||!d,{getExperience:p,addExperience:b,removeExperience:v}=d||{getExperience:()=>void 0,addExperience:()=>void 0,removeExperience:()=>void 0},f=(0,n.useRef)(p(t)??null),w=(0,n.useRef)(null),x=(0,r.TH)(),E=(0,n.useCallback)(()=>{(0,o.q4)(()=>{if(!u){if(!t||!i||!s)throw new o.z0(t,i,s);f.current||(f.current=new m.Z(t,i,s,x.pathname,l,null,void 0,w.current),b(f.current))}},"startSession",void 0,t)()},[t,i,s,f,b,u,x,l]),I=(0,n.useCallback)(e=>{(0,o.q4)(()=>{if(!u){if(!t||!i||!s)throw new o.z0(t,i,s);f.current?.hasInitiated()&&v(t,e)}},"endView",void 0,t)()},[t,i,s,f,v,u]),O=(0,n.useCallback)(e=>{(0,o.q4)(()=>{u||(f.current?f.current.initiateObserver(e):w.current=e)},"setObserverRef",void 0,t)()},[f,u,t]),y=(0,n.useMemo)(()=>({startSession:E,endSession:I,experienceInView:f.current,setObserverRef:O}),[E,I,f,O]);return(0,h.jsx)(g.r,{value:y,children:e})}var v=i(355794);function f(e,t){let i,n=t.findIndex(e=>"start"===e.state);if(-1===n)throw new o.jQ({placedExperienceId:e});let r=e=>{if(void 0===i)return i=e.inView,!1;let t=i===e.inView;return i=e.inView,t},s=!0,a=0;for(let e of t.slice(n)){let t=e.inView?-e.time:e.time;if("end"===e.state){r(e)||(a+=t),s=!1;break}"resumed"===e.state&&(s=!0),s&&(r(e)||(a+=t),"paused"===e.state&&(s=!1))}if(s)throw new o.PI({placedExperienceId:e});if(a<0)throw new o.Gw({placedExperienceId:e});if("number"!=typeof a||Number.isNaN(a))throw new o.VV({placedExperienceId:e});return a}},732282:(e,t,i)=>{let n;i.d(t,{AC:()=>k,Af:()=>p,Al:()=>v,Am:()=>I,Ig:()=>x,N:()=>_,NW:()=>b,Sd:()=>O,Th:()=>R,YX:()=>S,be:()=>E,fO:()=>g,kd:()=>y,pz:()=>f,sW:()=>C,x4:()=>m});var r=i(667294),s=i(578373),o=i(219308),a=i(414919),l=i(261517),c=i(241321),d=i(302057),u=i(397657),h=i(992114);let p=e=>{n=e},m=(e,t)=>s.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet(),g=(e,t)=>i=>s.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?i((0,c.OD)(e.resource_response.data)):void 0),b=e=>t=>s.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t((0,c.xF)(e.resource_response.data)):void 0),v=(e,t,i,r)=>t?Promise.resolve():(r&&(n=r),s.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:r}).callGet()),f=(e,t,i,r)=>(o,a)=>{if(t)return Promise.resolve();if(r&&(n=r),1===e.length){let t=e[0],n=a().experiences[t];if(JSON.stringify(n?.extraContext||null)===JSON.stringify(i)||(0,d.E3)(n)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return s.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:r}).callGet().then(e=>e.resource_response?o((0,c.cL)(e.resource_response.data)):void 0)},w=(e,t,i,r)=>(o,a,l,d=!1,u,h)=>(p,m)=>{let{experiences:b,experiencesMulti:v}=m(),f=null,w=!0;if(d||(f=(w=!!b[o]&&b[o].experience_id===a)?b[o]:Array.isArray(v[o])&&v[o]?.find(e=>e.experience_id===a)),f&&f.experience_id===a||d&&o&&a){let d=s.Z.create(e,{placed_experience_id:`${o}%3A${a}`,extra_context:u??{},targeting:h}),m=w?c.Yb:c.xW;switch(t){case"dismissed":return d.callDelete().then(()=>{p(m(o,a,t)),p(g(void 0,n)),i&&r&&i({event_type:r,object_id_str:a.toString()})});case"completed":return d.callUpdate().then(()=>{!l&&(p(m(o,a,t)),p(g(void 0,n)),i&&r&&i({event_type:r,object_id_str:a.toString()}))});case"viewed":return p(m(o,a,t)),d.callUpdate().then(()=>{1000162===o&&p(g()),i&&r&&i({event_type:r,object_id_str:a.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{l||p(m(o,a,t)),i&&r&&i({event_type:r,object_id_str:a.toString()})})}}return Promise.resolve()},x=()=>{let e=(0,o.Z)();return(0,r.useCallback)(w("UserExperienceViewedResource","viewed",e,4503),[e])},E=()=>{let e=(0,o.Z)();return(0,r.useCallback)(w("UserExperienceCompletedResource","completed",e,6567),[e])},I=()=>{let e=(0,o.Z)();return(0,r.useCallback)(w("UserExperienceResource","dismissed",e,6568),[e])},O=()=>{let e=(0,o.Z)();return(0,r.useCallback)(w("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},y=(e,t)=>(i,n)=>{let{experiences:r}=n(),s=r[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach(i=>{let[,n]=i.split(":"),r=t,o=s?.metadata?.[n];o&&(r={...t,..."object"==typeof o?o:{}}),(0,u.Z)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:r?{extra_context:JSON.stringify(r,null,1)}:{}}).then(()=>{((e,t,i={})=>(0,h.nP)(`${e}.${t}`,{sampleRate:1,tags:i}))("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:n})})})},S=e=>(t,i)=>{t(y(e));let{experiences:n}=i();return n[e]},_=(e,t,i)=>r=>{i&&(n=i),r(y(e,t)),t&&Object.keys(t).length>0&&r(f([e],!1,t,i))},C=async(e,t,i,n)=>{(0,h.nP)("experience_framework.view_duration.error",{sampleRate:1,tags:{func:e,type:t,experience_id:i,placement_id:n}})},k=async(e,t)=>{let i=e instanceof Error?e.message:String(e);(0,h.nP)("experience_framework.view_duration.unknown_error",{sampleRate:1,tags:{function:t,error:i}})},R=e=>{let{placedExperienceId:t,experienceId:i,placementId:n,endReason:r,timeline:s}=e;(0,l.q4)(()=>{let e=(0,a.vG)(t,s);d.ck.log(`[Experience Sessions] âœ¨ Total duration for experience ${t} is ${e}ms - Sending to statsboard with end reason: ${r}`),(0,h.LY)("experience_framework.view_duration",e,{sampleRate:.2,tags:{placement_id:n,experience_id:i,end_reason:r}})},"calculateTotalDuration",void 0,t,()=>{d.ck.error(`[Experience Sessions] âŒ Error calculating total duration for experience ${t} due to previous error`)})()}},778622:(e,t,i)=>{i.d(t,{Tl:()=>o,CF:()=>a,fO:()=>n.fO,NW:()=>n.NW,pz:()=>n.pz,YX:()=>n.YX,x4:()=>n.x4,Th:()=>n.Th,N:()=>n.N,kd:()=>n.kd,be:()=>n.be,Sd:()=>n.Sd,Am:()=>n.Am,Ig:()=>n.Ig,dy:()=>l});var n=i(732282),r=i(578373);let s=(e,t,i,s)=>(o,a)=>l=>{if(o&&o.id){let c=r.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{l((0,n.fO)()),i&&s&&i({event_type:s,object_id_str:o.id.toString()})});break;case"completed":c.callUpdate().then(()=>{a||l((0,n.fO)()),i&&s&&i({event_type:s,object_id_str:o.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{i&&s&&i({event_type:s,object_id_str:o.id.toString()})})}}},o=e=>s("UserExperienceCompletedResource","completed",e,6567),a=s("UserExperienceResource","dismissed"),l=e=>s("UserExperienceViewedResource","viewed",e,4503)},241321:(e,t,i)=>{i.d(t,{OD:()=>a,Yb:()=>o,cL:()=>l,xF:()=>r,xW:()=>s});var n=i(611577);let r=e=>({type:n.$S,payload:{experiencesMulti:e}}),s=(e,t,i)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:i}}),o=(e,t,i)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:i}}),a=e=>({type:n._4,payload:{experiences:e}}),l=e=>({type:n.mR,payload:{experiences:e}})},302057:(e,t,i)=>{i.d(t,{ck:()=>O,wQ:()=>x,A0:()=>g,MQ:()=>m,Cv:()=>b,dg:()=>E,E3:()=>h,Qs:()=>I,nR:()=>p});var n=i(667294),r=i(20256),s=i(316886),o=i(890360);let a=[11,1000168],l={1:{id:1,route:"/",onRoute:o.HV,placements:[11,1000541,1000503,40001]},13:{id:13,route:"/business/hub/",onRoute:o.h3,placements:[1000168]}};var c=i(32526),d=i(611395),u=i(785893);function h(e){return!!e&&0!==e.type}let p=(e,t,i,n,r,s=!0)=>{let o="existingExperience";return n?h(n)?i&&(o="placementInSurface",!i.placements.includes(e))?{shouldRefresh:!0,refreshReasoning:"placementNotInSurface"}:r?(o="inSSRPlacement",a.includes(e)?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"notAnSSRPlacement"}):!s||(o="placementMounted",t.mountedPlacements[e]||t.registeredAfterActionPlacements[e])?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"placementNotMounted"}:{shouldRefresh:!0,refreshReasoning:"experienceNotRenderable"}:{shouldRefresh:!0,refreshReasoning:"noExistingExperience"}},m=(e,t,i)=>{let n=e[i];return t[i]&&h(n)?n:null};function g(e){return e.display_data?.anchor}function b(e){return Object.values(l).find(t=>t.onRoute?t.onRoute(e):t.route===e.pathname)}let v=/<(\w+)\s*([^>]*)>([^<]*)<\/\1>/gim,f=/(?:href)=["']?([^"'>\s\\]*)["']?/im,w=/(?:target)=["']?([^"'>\s\\]*)["']?/im,x=e=>{let t=function(e){let t=[],i=0;for(let n of Array.from(e.matchAll(v))){if(n.index>i){let r=e.slice(i,n.index);r&&t.push({type:"text",content:r})}let[r,s,o,a]=n;"a"===s?t.push({type:"link",content:a||"",attrs:o||""}):t.push({type:"text",content:r}),i=n.index+r.length}if(i<e.length){let n=e.slice(i);n&&t.push({type:"text",content:n})}return t}(e);return(0,u.jsx)(r.xv,{inline:!0,children:t.map(({type:e,content:t,attrs:i},s)=>{switch(e){case"text":return(t?.split(`
`)||[]).map((e,i)=>(0,u.jsxs)(n.Fragment,{children:[i>0&&(0,u.jsx)("br",{}),(0,u.jsx)(r.xv,{inline:!0,children:e})]},`${t}-${i}`));case"link":let o=i?.match(f),a=o&&o.length>1?o[1]:void 0,l=i?.match(w),c=l&&l.length>1?l[1]:void 0;if(!a)return(0,u.jsx)(r.xv,{inline:!0,children:t},`${t}-${s}`);let h=!1;return h=(0,d.Z)({url:a}),(0,u.jsx)(r.rU,{display:"inline",externalLinkIcon:h?"default":"none",href:a,rel:h?"nofollow":"none",target:"_blank"===c?"blank":void 0,children:t},`${a}-${s}`);default:return null}})})},E=()=>"undefined"!=typeof window&&performance&&performance.now?Math.floor(performance.now()):Math.floor(Date.now()),I=(e,t,i)=>{let n=e&&e[i]?e[i]:void 0,r=t&&Object.keys(t).length>0,o=(0,s.Z1)(n?.extraContext||{},t||{},3),a=h(n)&&!r,l={currentExperienceInPlacement:!!n,hasExtraContext:!!r,sameContext:o,experienceRenderable:a};return n&&o||a?{shouldFetch:!1,logValues:l}:{shouldFetch:!0,logValues:l}},O=(0,c.Z)()&&(0,c.Z)().debug_experience_session?console:{log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{}}},56063:(e,t,i)=>{i.d(t,{$H:()=>a,$q:()=>x,$u:()=>r,Az:()=>u,Cw:()=>S,D6:()=>d,GZ:()=>y,KN:()=>I,Ke:()=>w,Lo:()=>s,P2:()=>b,TS:()=>O,Wv:()=>E,ZZ:()=>p,g5:()=>m,jC:()=>l,lX:()=>g,oX:()=>v,qG:()=>f,tG:()=>o,yF:()=>n,yc:()=>h,yt:()=>c});let n=236,r=270,s=157.33333333333334,o=175,a=24,l=4,c=8,d=2,u=8,h=2,p=14,m=16,g=16,b=24,v=16,f=-1,w=2,x=(e=!1,t=!1)=>e?t?g:12:b,E=({defaultItemWidth:e,contentVisibleItemCount:t,gap:i,moduleWidth:n})=>t||n?(n-((Math.ceil(t)+1)*i+8))/t:e,I=(e,t,i,n,r=p)=>{let s=e+r;return`
@media (min-width: ${t*s}px) and (max-width: ${(i+1)*s-1}px) {
  ${n}
}
`},O=(e,t,i)=>{let r=i?3:2,s=t?5:r,a=t?n:o,l=t?v:c,d=a*s+l*s-(t||!t&&i?12:6);if(!e)return d;for(let t=s;t>=2;t-=1)if(e>d)break;else d=a*t+l*t;return d},y=e=>{let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}},S=e=>!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)},900957:(e,t,i)=>{function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>u,LU:()=>h,ZP:()=>p});let r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},o={},a={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${o[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:a,[s.stopped]:a,[s.paused]:a,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){n(this,"lastIntersectionChange",null),n(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),n(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),n(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),n(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:i,isVisible:n,isHidden:r})=>{n(e)?this.lastLoggedVisibleEvent[i]||(this.addVisibleEvent(i,t),this.lastLoggedVisibleEvent[i]=!0):r(e)&&this.lastLoggedVisibleEvent[i]&&(this.addHiddenEvent(i,t),this.lastLoggedVisibleEvent[i]=!1)})}),n(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();this.handleIntersectionVisibilityChange(e,i),t&&!this.inViewport?(this.startTime=i,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(s.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let i=this.visibleEvents.get(e)||[];i.push(1e6*t),this.visibleEvents.set(e,i)}addHiddenEvent(e,t){let i=this.hiddenEvents.get(e)||[];i.push(1e6*t),this.hiddenEvents.set(e,i)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(s.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(r)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case s.flushed:case s.paused:case s.exit:o[this.debugId]=!0}}}function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=!0,h=!1;class p{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),i.mutationObserver&&this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=u){(e!==h||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},94970:(e,t,i)=>{i.d(t,{Z:()=>n});let n=new(i(900957)).ZP},611395:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(745052);let r=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,n.Z)(e))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86042-cd01e632b2994945.mjs.map